# ============================================================================
# GTM Engine Configuration
# ============================================================================
# Copy this file to .env and update values as needed.

# ============================================================================
# Infrastructure (Docker Compose services)
# ============================================================================
POSTGRES_URL=postgresql://gtm:gtm_password@localhost:5433/gtm_engine
REDIS_URL=redis://localhost:6379/0

# MinIO (S3-compatible object storage for raw job payloads)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=gtm-raw

# ============================================================================
# LLM Configuration (Two-Tier Architecture)
# ============================================================================
# Tier 1: High-throughput extraction (batches of 20 jobs)
# Options: "ollama" (local, free, no rate limits) or "openai" (fast, paid)
TIER1_PROVIDER=ollama

# Model name (depends on provider)
# For ollama: qwen3:4b, llama3, mistral:7b, etc.
# For openai: gpt-4o-mini (ignored when using ollama)
TIER1_MODEL_NAME=qwen3:4b

# Ollama base URL (only needed if TIER1_PROVIDER=ollama)
OLLAMA_BASE_URL=http://localhost:11434

# OpenAI API Key (required if TIER1_PROVIDER=openai or for search parsing)
OPENAI_API_KEY=sk-...

# Tier 2: Premium LLM for low-confidence escalation
# Options: "disabled" (default), "openai", or "anthropic"
TIER2_PROVIDER=disabled
# ANTHROPIC_API_KEY=sk-ant-...

# ============================================================================
# Pipeline Configuration
# ============================================================================
TARGET_JOB_COUNT=50000
TIER1_BATCH_SIZE=20

# Rate Limiting (requests per source)
GREENHOUSE_MAX_CONCURRENT=5
LEVER_MAX_CONCURRENT=5
MAX_RETRIES=5
RETRY_BACKOFF_BASE=2

# ============================================================================
# Application Settings
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=true
LOG_LEVEL=INFO
